c
params
c
params
params[:registration_situation_code]
c
params = remove_undefine_params(search_all_params)
c
search_all_params
params = remove_undefine_params(search_all_params)
c
params = remove_undefine_params(search_all_params)
remove_undefine_params(search_all_params)
search_all_params
c
params = remove_undefine_params(search_all_params)
search_all_params
c
params
c
params
params[:registration_situation_code]
c
params[:initial_share_capital]
c
params[:initial_share_capital]
c
params[:initial_share_capital].to_i.size
params[:initial_share_capital].size
params[:initial_share_capital].count
params[:initial_share_capital].insert(6, ",")
c
params[:initial_share_capital].insert(6, ",")
params[:initial_share_capital].insert(7, ",")
c
params[:initial_share_capital].insert(7, ",")
params[:initial_share_capital].insert(6, ",")
params[:initial_share_capital].insert(3, ",")
c
params[:initial_share_capital].insert(3, ",")
params[:initial_share_capital].insert(-3, ",")
params[:initial_share_capital].insert(-2, ",")
params[:initial_share_capital].insert(2, ",")
params[:initial_share_capital]
params[:initial_share_capital].to_i
params[:initial_share_capital]
c
params[:initial_share_capital]
params[:initial_share_capital].gsub(/[^\d]/, '')
params[:initial_share_capital]
params[:initial_share_capital].gsub(/[^\d]/, '')
params[:initial_share_capital].gsub(/[^\d]/, '').gsub('.', ',')
params[:initial_share_capital].gsub(/[^\d], '').gsub('.', ',')
params[:initial_share_capital].replace(/[^\d], '').gsub('.', ',')
c
params[:initial_share_capital].gsub('.', ',')
params[:initial_share_capital].gsub(',')
params[:initial_share_capital]
c
params[:initial_share_capital]
c
params[:initial_share_capital]
c
params[:initial_share_capital]
c
params[:initial_share_capital]
c
params[:initial_share_capital]
c
params[:initial_share_capital]
c
params[:initial_share_capital].gsub('.', ',')
(params[:initial_share_capital].to_f / 100).round(2).to_s.gsub('.', ',')
(params[:initial_share_capital].to_f / 100).round(2).to_s
(params[:initial_share_capital].to_f / 100).round(2)
params[:initial_share_capital].to_f / 100
params[:initial_share_capital].to_f
params[:initial_share_capital]
c
params[:end_share_capital]
params[:end_share_capital].replace(",")
end_share_capital
initial_share_capital
params[:end_share_capital]
params[:initial_share_capital]
params[:share_capital]
c
query.where('share_capital >= ? and share_capital <= ?', initial_share_capital, end_share_capital)
c
query.where('share_capital >= ? and share_capital <= ?', "1000,00", "1000,00")
query.where('share_capital >= ? and share_capital <= ?', initial_share_capital, end_share_capital)
query.where('share_capital >= ? and share_capital <= ?', "#{initial_share_capital}, #{end_share_capital}")
query = query.where(share_capital: "1000,00".."1000,00") if params[:initial_share_capital].present? || params[:end_share_capital].present?
query = query.where(share_capital: initial_share_capital..end_share_capital) if params[:initial_share_capital].present? || params[:end_share_capital].present?
query = query.where(share_capital: initial_share_capital..end_share_capital) if params[:initial_share_capital].present? || params[:end_share_capital].present
c
query.where('LOWER(share_capital) => ?', "#{params[:initial_share_capital]}")
params[:share_capital]
params[:initial_share_capital]
exit
r.name_company.gsub(/\d/, '').gsub(/\./, '').strip
r.name_company
c
r.name_company.gsub(/\d/, '').gsub(/\./, '').strip
r.name_company
c
r.name_company.gsub(/\d/, '').gsub(/\./, '').strip
r.name_company.gsub(/\d/, '').gsub(/\./, '')
r.name_company.gsub(/\d/, '').gsub(/\ ./, '')
r.name_company.gsub(/\d/, '').gsub(/\. /, '')
r.name_company.gsub(/\d/, '').gsub(/\./, '')
r.name_company.gsub(/\d/, '').gsub(/\d./, '')
r.name_company.gsub(/\d/, '').gsub(/\d/., '')
r.name_company.gsub(/\d/, '')
r.name_company.gsub(/\d/, '').strip
r.name_company
c
r.name_company
c
r.name_company
c
r.name_company.gsub(/\d/, '').strip
r.name_company
c
r.name_company
c
r.name_company
c
r.name_company
c
r.name_company
c
r.name_company
c
r.name_company
c
r.name_company
c
r.name_company
c
r.name_company
c
r.name_company
c
r.name_company
c
r.name_company
c
r.name_company
c
r.name_company
c
r.name_company
c
r.name_company
c
r.name_company
c
r.name_company
c
r.name_company
c
r.name_company
c
r.name_company
c
r.name_company
c
r.name_company
r.name_company.gsub(/\d/, '').strip
c
r.name_company.gsub(/\d/, '').strip
r.name_company
exit
c
fil
c
query.blank?
query
query = VmMineraDados.search_all(params)
c
str.include?(': ')
str
c
str.blank?
str.blanck?
str
exit
c
s
c
s
c
string.split(', ')
string
c
fil["uf"]
fil = JSON.parse(filter)
JSON.parse(filter)
filter
filter.split(',')
filter
filter.split(',')
filter.json(',')
filter.split(',')
filter.to_json
filter.to_
filter.to_json
filter
c
historic.filters
historic.name_history
historic.date_history
historic
c
history_query
c
history
exit
line[1]
c
line[2]
line[1]
line[0]
line
c
code
c
query.where(start_date_activity: "20230201")
query.where(start_date_activity: "20230101")
query.where(start_date_activity: "20240101")
query.where(start_date_activity: date_initial)
query.where(start_date_activity: date_ini)
date_initial..date_end
c
a.count
a = query.where("primary_cnae_code in (#{cnaes_codes})")
c
a = query.where('primary_cnae_code in ?', "#{params[:primary_cnae_code].join(', ')}")
a = query.where('primary_cnae_code in ?', "#{params[:primary_cnae_code].split(', ')}")
a = query.where('primary_cnae_code in ?', "#{params[:primary_cnae_code].split(',')}")
a = query.where('primary_cnae_code in ?', "#{params[:primary_cnae_code].join(',').split(',')}")
a.count
a = query.where('primary_cnae_code in ?', "#{params[:primary_cnae_code].split(',')}")
a.count
a = query.where('primary_cnae_code in ?', "#{params[:primary_cnae_code].split(',').join(',')}")
a.count
a = query.where('primary_cnae_code in = ?', "#{params[:primary_cnae_code].split(',').join(',')}")
query.where('primary_cnae_code in = ?', "#{params[:primary_cnae_code].split(',').join(',')}")
query.where('primary_cnae_code in = ?', "(#{params[:primary_cnae_code].split(',').join(',')})")
query.where('primary_cnae_code in = ?', "(#{params[:primary_cnae_code].split(',').join()})")
query.where('primary_cnae_code in = ?', "(#{params[:primary_cnae_code].split(',')})")
query.where('primary_cnae_code in = ?', "(#{params[:primary_cnae_code].join(',')})")
c
query.where('primary_cnae_code in = ?', "#{params[:primary_cnae_code].split(',')}")
c
